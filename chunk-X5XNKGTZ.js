import{$a as C,Ba as E,Bb as j,Db as B,Ea as h,Fb as G,Hb as H,Ka as p,Kb as R,La as t,Lb as Y,Ma as n,Mb as q,Na as b,Nb as U,Oa as N,Pa as _,Qa as c,Qb as J,T as m,U as g,V as x,Va as v,W as M,Wa as r,Xa as u,Ya as S,_a as f,a as P,ab as w,b as D,cb as O,eb as k,ib as V,qb as T,ra as s,rb as L,sb as I,tb as F,ub as z,vb as A,xa as y,zb as W}from"./chunk-EZSKSYQF.js";function Q(a,o){if(a&1){let e=N();t(0,"button",17),_("click",function(){m(e);let i=c(2);return g(i.clearSearch())}),x(),t(1,"svg",18),b(2,"path",19),n()()}}function X(a,o){if(a&1){let e=N();t(0,"div",11)(1,"div",12),x(),t(2,"svg",13),b(3,"path",14),n(),M(),t(4,"input",15),w("ngModelChange",function(i){m(e);let d=c();return C(d.searchTerm,i)||(d.searchTerm=i),g(i)}),_("input",function(){m(e);let i=c();return g(i.onSearch())}),n(),h(5,Q,3,0,"button",16),n()()}if(a&2){let e=c();s(4),f("ngModel",e.searchTerm),s(),p("ngIf",e.searchTerm)}}function Z(a,o){if(a&1&&(t(0,"option",40),r(1),n()),a&2){let e=o.$implicit;p("value",e),s(),u(e)}}function $(a,o){if(a&1){let e=N();t(0,"button",41),_("click",function(){let i=m(e).$implicit,d=c(2);return g(d.goToPage(i))}),r(1),n()}if(a&2){let e=o.$implicit,l=c(2);v("active",e===l.currentPage),s(),u(e)}}function ee(a,o){if(a&1&&(x(),t(0,"svg",42),b(1,"path",43),n()),a&2){let e=c(2);v("desc",e.sortDirection==="desc")}}function te(a,o){if(a&1&&(x(),t(0,"svg",42),b(1,"path",43),n()),a&2){let e=c(2);v("desc",e.sortDirection==="desc")}}function ie(a,o){if(a&1&&(x(),t(0,"svg",42),b(1,"path",43),n()),a&2){let e=c(2);v("desc",e.sortDirection==="desc")}}function ne(a,o){if(a&1&&(x(),t(0,"svg",42),b(1,"path",43),n()),a&2){let e=c(2);v("desc",e.sortDirection==="desc")}}function oe(a,o){if(a&1&&(x(),t(0,"svg",42),b(1,"path",43),n()),a&2){let e=c(2);v("desc",e.sortDirection==="desc")}}function re(a,o){if(a&1&&(x(),t(0,"svg",42),b(1,"path",43),n()),a&2){let e=c(2);v("desc",e.sortDirection==="desc")}}function ae(a,o){if(a&1){let e=N();t(0,"tr")(1,"td",44),r(2),n(),t(3,"td"),r(4),n(),t(5,"td"),r(6),n(),t(7,"td"),r(8),O(9,"date"),n(),t(10,"td",45),r(11),O(12,"currency"),n(),t(13,"td")(14,"span",46),r(15),n()(),t(16,"td")(17,"div",47)(18,"button",48),_("click",function(){let i=m(e).$implicit,d=c(2);return g(d.editDebitNote(i))}),x(),t(19,"svg",49),b(20,"path",50),n()(),M(),t(21,"button",51),_("click",function(){let i=m(e).$implicit,d=c(2);return g(d.confirmDelete(i))}),x(),t(22,"svg",49),b(23,"path",52),n()()()()()}if(a&2){let e=o.$implicit;s(2),u(e.debitNoteNumber),s(2),u(e.customerName),s(2),u(e.invoiceId||"-"),s(2),u(k(9,7,e.date,"mediumDate")),s(3),u(k(12,10,e.total,"INR")),s(3),p("ngClass",e.status.toLowerCase()),s(),S(" ",e.status," ")}}function se(a,o){a&1&&(t(0,"tr")(1,"td",53),r(2," No debit notes found matching your search. "),n()())}function le(a,o){if(a&1&&(t(0,"option",40),r(1),n()),a&2){let e=o.$implicit;p("value",e),s(),u(e)}}function ce(a,o){if(a&1){let e=N();t(0,"button",41),_("click",function(){let i=m(e).$implicit,d=c(3);return g(d.goToPage(i))}),r(1),n()}if(a&2){let e=o.$implicit,l=c(3);v("active",e===l.currentPage),s(),u(e)}}function de(a,o){if(a&1){let e=N();t(0,"div",54)(1,"div",22)(2,"div",23)(3,"label",24),r(4,"Show"),n(),t(5,"select",25),w("ngModelChange",function(i){m(e);let d=c(2);return C(d.pageSize,i)||(d.pageSize=i),g(i)}),_("change",function(){m(e);let i=c(2);return g(i.changePageSize(i.pageSize))}),h(6,le,2,2,"option",26),n(),t(7,"span"),r(8,"entries"),n()(),t(9,"div",27),r(10," Showing "),t(11,"strong"),r(12),n(),r(13," to "),t(14,"strong"),r(15),n(),r(16," of "),t(17,"strong"),r(18),n(),r(19," records "),n()(),t(20,"div",28)(21,"button",29),_("click",function(){m(e);let i=c(2);return g(i.previousPage())}),x(),t(22,"svg",18),b(23,"path",30),n(),r(24," Previous "),n(),M(),t(25,"div",31),h(26,ce,2,3,"button",32),n(),t(27,"button",29),_("click",function(){m(e);let i=c(2);return g(i.nextPage())}),r(28," Next "),x(),t(29,"svg",18),b(30,"path",33),n()()()()}if(a&2){let e=c(2);s(5),f("ngModel",e.pageSize),s(),p("ngForOf",e.pageSizeOptions),s(6),u((e.currentPage-1)*e.pageSize+1),s(3),u(e.Math.min(e.currentPage*e.pageSize,e.totalDebitNotes)),s(3),u(e.totalDebitNotes),s(3),p("disabled",e.currentPage===1),s(5),p("ngForOf",e.getPageNumbers()),s(),p("disabled",e.currentPage===e.totalPages)}}function me(a,o){if(a&1){let e=N();t(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23)(4,"label",24),r(5,"Show"),n(),t(6,"select",25),w("ngModelChange",function(i){m(e);let d=c();return C(d.pageSize,i)||(d.pageSize=i),g(i)}),_("change",function(){m(e);let i=c();return g(i.changePageSize(i.pageSize))}),h(7,Z,2,2,"option",26),n(),t(8,"span"),r(9,"entries"),n()(),t(10,"div",27),r(11," Showing "),t(12,"strong"),r(13),n(),r(14," to "),t(15,"strong"),r(16),n(),r(17," of "),t(18,"strong"),r(19),n(),r(20," records "),n()(),t(21,"div",28)(22,"button",29),_("click",function(){m(e);let i=c();return g(i.previousPage())}),x(),t(23,"svg",18),b(24,"path",30),n(),r(25," Previous "),n(),M(),t(26,"div",31),h(27,$,2,3,"button",32),n(),t(28,"button",29),_("click",function(){m(e);let i=c();return g(i.nextPage())}),r(29," Next "),x(),t(30,"svg",18),b(31,"path",33),n()()()(),M(),t(32,"table",34)(33,"thead")(34,"tr")(35,"th",35),_("click",function(){m(e);let i=c();return g(i.sortBy("debitNoteNumber"))}),t(36,"span"),r(37," Debit Note # "),h(38,ee,2,2,"svg",36),n()(),t(39,"th",35),_("click",function(){m(e);let i=c();return g(i.sortBy("customerName"))}),t(40,"span"),r(41," Customer "),h(42,te,2,2,"svg",36),n()(),t(43,"th",35),_("click",function(){m(e);let i=c();return g(i.sortBy("invoiceId"))}),t(44,"span"),r(45," Invoice # "),h(46,ie,2,2,"svg",36),n()(),t(47,"th",35),_("click",function(){m(e);let i=c();return g(i.sortBy("date"))}),t(48,"span"),r(49," Date "),h(50,ne,2,2,"svg",36),n()(),t(51,"th",35),_("click",function(){m(e);let i=c();return g(i.sortBy("total"))}),t(52,"span"),r(53," Amount "),h(54,oe,2,2,"svg",36),n()(),t(55,"th",35),_("click",function(){m(e);let i=c();return g(i.sortBy("status"))}),t(56,"span"),r(57," Status "),h(58,re,2,2,"svg",36),n()(),t(59,"th"),r(60,"Actions"),n()()(),t(61,"tbody"),h(62,ae,24,13,"tr",37)(63,se,3,0,"tr",38),n()(),h(64,de,31,8,"div",39),n()}if(a&2){let e=c();s(6),f("ngModel",e.pageSize),s(),p("ngForOf",e.pageSizeOptions),s(6),u((e.currentPage-1)*e.pageSize+1),s(3),u(e.Math.min(e.currentPage*e.pageSize,e.totalDebitNotes)),s(3),u(e.totalDebitNotes),s(3),p("disabled",e.currentPage===1),s(5),p("ngForOf",e.getPageNumbers()),s(),p("disabled",e.currentPage===e.totalPages),s(10),p("ngIf",e.sortColumn==="debitNoteNumber"),s(4),p("ngIf",e.sortColumn==="customerName"),s(4),p("ngIf",e.sortColumn==="invoiceId"),s(4),p("ngIf",e.sortColumn==="date"),s(4),p("ngIf",e.sortColumn==="total"),s(4),p("ngIf",e.sortColumn==="status"),s(4),p("ngForOf",e.debitNotes),s(),p("ngIf",e.debitNotes.length===0),s(),p("ngIf",e.totalDebitNotes>0)}}function ge(a,o){a&1&&(t(0,"div",55),b(1,"div",56),t(2,"p",57),r(3,"Loading debit notes..."),n()())}function pe(a,o){if(a&1){let e=N();t(0,"div",58)(1,"div",59)(2,"div",60)(3,"div",61),x(),t(4,"svg",62),b(5,"path",63),n()(),M(),t(6,"h2",64),r(7,"Delete Debit Note"),n(),t(8,"p",65),r(9," Are you sure you want to delete debit note "),t(10,"strong"),r(11),n(),r(12,"? "),b(13,"br"),r(14,"This action cannot be undone. "),n()(),t(15,"div",66)(16,"button",67),_("click",function(){m(e);let i=c();return g(i.cancelDelete())}),r(17,"Cancel"),n(),t(18,"button",68),_("click",function(){m(e);let i=c();return g(i.deleteDebitNote())}),x(),t(19,"svg",49),b(20,"path",52),n(),r(21," Delete Debit Note "),n()()()()}if(a&2){let e=c();s(11),u(e.debitNoteToDelete==null?null:e.debitNoteToDelete.debitNoteNumber)}}function _e(a,o){if(a&1&&(t(0,"span",97),r(1),n()),a&2){let e=c(2);s(),u(e.getFieldError("customerName"))}}function ue(a,o){if(a&1&&(t(0,"span",97),r(1),n()),a&2){let e=c(2);s(),u(e.getFieldError("debitNoteNumber"))}}function be(a,o){if(a&1&&(t(0,"span",97),r(1),n()),a&2){let e=c(2);s(),u(e.getFieldError("date"))}}function xe(a,o){if(a&1&&(t(0,"span",97),r(1),n()),a&2){let e=c(2);s(),u(e.getFieldError("total"))}}function he(a,o){if(a&1&&(t(0,"span",97),r(1),n()),a&2){let e=c(2);s(),u(e.getFieldError("status"))}}function ve(a,o){if(a&1){let e=N();t(0,"div",58)(1,"div",69)(2,"div",60)(3,"h2",64),r(4),n(),t(5,"button",70),_("click",function(){m(e);let i=c();return g(i.closeAddDebitNoteForm())}),x(),t(6,"svg",18),b(7,"path",19),n()()(),M(),t(8,"div",71)(9,"div",72)(10,"div",73)(11,"label",74),r(12,"Customer Name "),t(13,"span",75),r(14,"*"),n()(),t(15,"input",76),w("ngModelChange",function(i){m(e);let d=c();return C(d.newDebitNote.customerName,i)||(d.newDebitNote.customerName=i),g(i)}),_("blur",function(){m(e);let i=c();return g(i.markFieldAsTouched("customerName"))}),n(),h(16,_e,2,1,"span",77),n(),t(17,"div",73)(18,"label",78),r(19,"Debit Note Number "),t(20,"span",75),r(21,"*"),n()(),t(22,"input",79),w("ngModelChange",function(i){m(e);let d=c();return C(d.newDebitNote.debitNoteNumber,i)||(d.newDebitNote.debitNoteNumber=i),g(i)}),_("blur",function(){m(e);let i=c();return g(i.markFieldAsTouched("debitNoteNumber"))}),n(),h(23,ue,2,1,"span",77),n(),t(24,"div",73)(25,"label",80),r(26,"Invoice Reference"),n(),t(27,"input",81),w("ngModelChange",function(i){m(e);let d=c();return C(d.newDebitNote.invoiceId,i)||(d.newDebitNote.invoiceId=i),g(i)}),n()(),t(28,"div",73)(29,"label",82),r(30,"Date "),t(31,"span",75),r(32,"*"),n()(),t(33,"input",83),w("ngModelChange",function(i){m(e);let d=c();return C(d.newDebitNote.date,i)||(d.newDebitNote.date=i),g(i)}),_("blur",function(){m(e);let i=c();return g(i.markFieldAsTouched("date"))}),n(),h(34,be,2,1,"span",77),n(),t(35,"div",73)(36,"label",84),r(37,"Amount "),t(38,"span",75),r(39,"*"),n()(),t(40,"input",85),w("ngModelChange",function(i){m(e);let d=c();return C(d.newDebitNote.total,i)||(d.newDebitNote.total=i),g(i)}),_("blur",function(){m(e);let i=c();return g(i.markFieldAsTouched("total"))}),n(),h(41,xe,2,1,"span",77),n(),t(42,"div",73)(43,"label",86),r(44,"Status "),t(45,"span",75),r(46,"*"),n()(),t(47,"select",87),w("ngModelChange",function(i){m(e);let d=c();return C(d.newDebitNote.status,i)||(d.newDebitNote.status=i),g(i)}),_("blur",function(){m(e);let i=c();return g(i.markFieldAsTouched("status"))}),t(48,"option",88),r(49,"Issued"),n(),t(50,"option",89),r(51,"Applied"),n(),t(52,"option",90),r(53,"Refunded"),n(),t(54,"option",91),r(55,"Void"),n()(),h(56,he,2,1,"span",77),n(),t(57,"div",92)(58,"label",93),r(59,"Reason"),n(),t(60,"textarea",94),w("ngModelChange",function(i){m(e);let d=c();return C(d.newDebitNote.reason,i)||(d.newDebitNote.reason=i),g(i)}),n()()()(),t(61,"div",66)(62,"button",67),_("click",function(){m(e);let i=c();return g(i.closeAddDebitNoteForm())}),r(63,"Cancel"),n(),t(64,"button",95),_("click",function(){m(e);let i=c();return g(i.saveDebitNote())}),x(),t(65,"svg",49),b(66,"path",96),n(),r(67),n()()()()}if(a&2){let e=c();s(4),u(e.isEditMode?"Edit Debit Note":"New Debit Note"),s(11),v("error",e.isFieldInvalid("customerName")),f("ngModel",e.newDebitNote.customerName),s(),p("ngIf",e.isFieldInvalid("customerName")),s(6),v("error",e.isFieldInvalid("debitNoteNumber")),f("ngModel",e.newDebitNote.debitNoteNumber),s(),p("ngIf",e.isFieldInvalid("debitNoteNumber")),s(4),f("ngModel",e.newDebitNote.invoiceId),s(6),v("error",e.isFieldInvalid("date")),f("ngModel",e.newDebitNote.date),s(),p("ngIf",e.isFieldInvalid("date")),s(6),v("error",e.isFieldInvalid("total")),f("ngModel",e.newDebitNote.total),s(),p("ngIf",e.isFieldInvalid("total")),s(6),v("error",e.isFieldInvalid("status")),f("ngModel",e.newDebitNote.status),s(9),p("ngIf",e.isFieldInvalid("status")),s(4),f("ngModel",e.newDebitNote.reason),s(4),p("disabled",!e.isFormValid()),s(3),S(" ",e.isEditMode?"Update Debit Note":"Create Debit Note"," ")}}var K=class a{constructor(o,e){this.mockApi=o;this.cdr=e}debitNotes=[];allDebitNotes=[];filteredDebitNotes=[];isLoading=!0;currentPage=1;pageSize=10;totalDebitNotes=0;totalPages=0;Math=Math;pageSizeOptions=[5,10,50,100];searchTerm="";sortColumn="date";sortDirection="desc";showDeleteDialog=!1;debitNoteToDelete=null;showAddDebitNoteForm=!1;isEditMode=!1;debitNoteToEdit=null;newDebitNote={customerName:"",debitNoteNumber:"",total:0,subtotal:0,tax:0,date:new Date().toISOString().split("T")[0],status:"Issued",invoiceId:"",reason:""};touchedFields=new Set;ngOnInit(){this.loadDebitNotes()}loadDebitNotes(){this.isLoading=!0,this.mockApi.getDebitNotes().subscribe({next:o=>{this.allDebitNotes=o,this.filteredDebitNotes=[...this.allDebitNotes],this.totalDebitNotes=this.filteredDebitNotes.length,this.totalPages=Math.ceil(this.totalDebitNotes/this.pageSize),this.updatePage(),this.isLoading=!1,this.cdr.detectChanges()},error:o=>{console.error("Error loading debit notes:",o),this.isLoading=!1}})}onSearch(){if(!this.searchTerm.trim())this.filteredDebitNotes=[...this.allDebitNotes];else{let o=this.searchTerm.toLowerCase();this.filteredDebitNotes=this.allDebitNotes.filter(e=>e.customerName.toLowerCase().includes(o)||e.debitNoteNumber.toLowerCase().includes(o)||e.status.toLowerCase().includes(o)||e.invoiceId&&e.invoiceId.toLowerCase().includes(o))}this.totalDebitNotes=this.filteredDebitNotes.length,this.totalPages=Math.ceil(this.totalDebitNotes/this.pageSize),this.currentPage=1,this.updatePage()}clearSearch(){this.searchTerm="",this.onSearch()}sortBy(o){this.sortColumn===o?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=o,this.sortDirection="asc"),this.filteredDebitNotes.sort((e,l)=>{let i=e[o],d=l[o];return o==="date"&&(i=new Date(i).getTime(),d=new Date(d).getTime()),typeof i=="string"&&(i=i.toLowerCase(),d=d.toLowerCase()),i<d?this.sortDirection==="asc"?-1:1:i>d?this.sortDirection==="asc"?1:-1:0}),this.updatePage()}updatePage(){let o=(this.currentPage-1)*this.pageSize,e=o+this.pageSize;this.debitNotes=this.filteredDebitNotes.slice(o,e)}previousPage(){this.currentPage>1&&(this.currentPage--,this.updatePage())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updatePage())}goToPage(o){this.currentPage=o,this.updatePage()}changePageSize(o){this.pageSize=o,this.totalPages=Math.ceil(this.totalDebitNotes/this.pageSize),this.currentPage=1,this.updatePage()}getPageNumbers(){let o=[];if(this.totalPages<=5)for(let l=1;l<=this.totalPages;l++)o.push(l);else{let l=Math.max(1,this.currentPage-2),i=Math.min(this.totalPages,l+5-1);i-l<4&&(l=Math.max(1,i-5+1));for(let d=l;d<=i;d++)o.push(d)}return o}confirmDelete(o){this.debitNoteToDelete=o,this.showDeleteDialog=!0}cancelDelete(){this.showDeleteDialog=!1,this.debitNoteToDelete=null}deleteDebitNote(){this.debitNoteToDelete&&(this.allDebitNotes=this.allDebitNotes.filter(o=>o.id!==this.debitNoteToDelete.id),this.onSearch(),this.showDeleteDialog=!1,this.debitNoteToDelete=null)}openAddDebitNoteForm(){this.isEditMode=!1,this.debitNoteToEdit=null,this.touchedFields.clear(),this.newDebitNote={customerName:"",debitNoteNumber:"",total:0,subtotal:0,tax:0,date:new Date().toISOString().split("T")[0],status:"Issued",invoiceId:"",reason:""},this.showAddDebitNoteForm=!0}editDebitNote(o){this.isEditMode=!0,this.debitNoteToEdit=o,this.touchedFields.clear(),this.newDebitNote=D(P({},o),{date:o.date?new Date(o.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],subtotal:o.subtotal||o.total,tax:o.tax||0}),this.showAddDebitNoteForm=!0}closeAddDebitNoteForm(){this.showAddDebitNoteForm=!1,this.isEditMode=!1,this.debitNoteToEdit=null}markFieldAsTouched(o){this.touchedFields.add(o)}isFieldInvalid(o){return this.touchedFields.has(o)&&!this.isFieldValid(o)}isFieldValid(o){let e=this.newDebitNote[o];return o==="total"?e!=null&&e>0:e!=null&&e.toString().trim()!==""}getFieldError(o){if(!this.isFieldInvalid(o))return"";let e=this.newDebitNote[o];return!e||e.toString().trim()===""?"This field is required":o==="total"&&e<=0?"Amount must be greater than 0":""}isFormValid(){return this.isFieldValid("customerName")&&this.isFieldValid("debitNoteNumber")&&this.isFieldValid("total")&&this.isFieldValid("date")&&this.isFieldValid("status")}saveDebitNote(){if(this.touchedFields.add("customerName"),this.touchedFields.add("debitNoteNumber"),this.touchedFields.add("total"),this.touchedFields.add("date"),this.touchedFields.add("status"),this.isFormValid()){if(this.isEditMode&&this.debitNoteToEdit){let o=this.allDebitNotes.findIndex(e=>e.id===this.debitNoteToEdit.id);o!==-1&&(this.allDebitNotes[o]=D(P({},this.debitNoteToEdit),{customerName:this.newDebitNote.customerName,debitNoteNumber:this.newDebitNote.debitNoteNumber,total:this.newDebitNote.total,subtotal:this.newDebitNote.total,tax:0,status:this.newDebitNote.status,date:new Date(this.newDebitNote.date),invoiceId:this.newDebitNote.invoiceId||"",reason:this.newDebitNote.reason||"",items:this.debitNoteToEdit.items||[]}))}else{let o={id:"dn"+Date.now(),customerName:this.newDebitNote.customerName,debitNoteNumber:this.newDebitNote.debitNoteNumber,total:this.newDebitNote.total,subtotal:this.newDebitNote.total,tax:0,status:this.newDebitNote.status,date:new Date(this.newDebitNote.date),invoiceId:this.newDebitNote.invoiceId||"",reason:this.newDebitNote.reason||"",items:[]};this.allDebitNotes.unshift(o)}this.onSearch(),this.closeAddDebitNoteForm()}}static \u0275fac=function(e){return new(e||a)(y(W),y(V))};static \u0275cmp=E({type:a,selectors:[["app-debit-note-list"]],decls:16,vars:5,consts:[[1,"page-container"],[1,"page-header"],[1,"header-content"],[1,"subtitle"],[1,"btn","btn-primary","compact-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4.5v15m7.5-7.5h-15"],["class","search-container",4,"ngIf"],["class","card table-container",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","dialog-overlay",4,"ngIf"],[1,"search-container"],[1,"search-box"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"search-icon"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"],["type","text","placeholder","Search debit notes...",1,"search-input",3,"ngModelChange","input","ngModel"],["class","clear-search",3,"click",4,"ngIf"],[1,"clear-search",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"card","table-container"],[1,"pagination","top-pagination"],[1,"pagination-left"],[1,"page-size-selector"],["for","pageSizeTop"],["id","pageSizeTop",1,"page-size-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"pagination-info"],[1,"pagination-controls"],[1,"pagination-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 19.5L8.25 12l7.5-7.5"],[1,"page-numbers"],["class","page-number",3,"active","click",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 4.5l7.5 7.5-7.5 7.5"],[1,"data-table"],[1,"sortable",3,"click"],["class","sort-icon","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",3,"desc",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","pagination",4,"ngIf"],[3,"value"],[1,"page-number",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"sort-icon"],["d","M12 4l8 8h-6v8h-4v-8H4z"],[1,"font-medium"],[1,"font-medium","text-primary"],[1,"status-badge",3,"ngClass"],[1,"actions"],["title","Edit",1,"action-icon","edit-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"],["title","Delete",1,"action-icon","delete-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"],["colspan","7",1,"text-center","py-8","text-muted"],[1,"pagination"],[1,"loading-state"],[1,"spinner"],[1,"loading-text"],[1,"dialog-overlay"],[1,"dialog-container"],[1,"dialog-header"],[1,"dialog-icon-danger"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"],[1,"dialog-title"],[1,"dialog-message"],[1,"dialog-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"dialog-container","form-dialog"],[1,"close-btn",3,"click"],[1,"form-content"],[1,"form-grid"],[1,"form-group"],["for","customerName"],[1,"required"],["type","text","id","customerName","placeholder","Enter customer name",1,"form-input",3,"ngModelChange","blur","ngModel"],["class","error-message",4,"ngIf"],["for","debitNoteNumber"],["type","text","id","debitNoteNumber","placeholder","DN-2023-001",1,"form-input",3,"ngModelChange","blur","ngModel"],["for","invoiceId"],["type","text","id","invoiceId","placeholder","INV-2023-001",1,"form-input",3,"ngModelChange","ngModel"],["for","date"],["type","date","id","date",1,"form-input",3,"ngModelChange","blur","ngModel"],["for","total"],["type","number","id","total","min","0","step","0.01",1,"form-input",3,"ngModelChange","blur","ngModel"],["for","status"],["id","status",1,"form-input",3,"ngModelChange","blur","ngModel"],["value","Issued"],["value","Applied"],["value","Refunded"],["value","Void"],[1,"form-group","full-width"],["for","reason"],["id","reason","placeholder","Reason for debit note...",1,"form-input",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 12.75l6 6 9-13.5"],[1,"error-message"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),r(4,"Debit Notes"),n(),t(5,"p",3),r(6,"Manage debit notes and supplier adjustments"),n()(),t(7,"button",4),_("click",function(){return l.openAddDebitNoteForm()}),x(),t(8,"svg",5),b(9,"path",6),n(),r(10," Add "),n()(),h(11,X,6,2,"div",7)(12,me,65,17,"div",8)(13,ge,4,0,"div",9)(14,pe,22,1,"div",10)(15,ve,68,25,"div",10),n()),e&2&&(s(11),p("ngIf",!l.isLoading),s(),p("ngIf",!l.isLoading),s(),p("ngIf",l.isLoading),s(),p("ngIf",l.showDeleteDialog),s(),p("ngIf",l.showAddDebitNoteForm))},dependencies:[A,T,L,I,J,Y,q,j,H,R,B,U,G,z,F],styles:[".page-container[_ngcontent-%COMP%]{max-width:1600px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2.5rem;padding-bottom:1.5rem;border-bottom:2px solid var(--border-light)}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:#1e3a5f;font-weight:700;letter-spacing:-.02em;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{color:#2f5a8a;font-size:1rem;font-weight:500}.table-container[_ngcontent-%COMP%]{background:var(--bg-card);border-radius:var(--radius-xl);box-shadow:var(--shadow-md);border:1px solid var(--border-light);overflow:hidden;margin-bottom:2rem}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#0f172a!important;border-bottom:2px solid #f5a623}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1.25rem 1.75rem;font-size:.75rem;font-weight:700;text-transform:uppercase;color:var(--text-secondary);letter-spacing:.1em;text-align:left;white-space:nowrap}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{text-align:right}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-light);transition:all var(--transition-fast)}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--bg-hover);transform:scale(1.001)}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1.25rem 1.75rem;color:var(--text-primary);font-size:.9375rem;vertical-align:middle}.font-medium[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.text-sm[_ngcontent-%COMP%]{font-size:.8125rem}.text-muted[_ngcontent-%COMP%]{color:var(--text-muted)}.text-primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.375rem .875rem;border-radius:var(--radius-full);font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;box-shadow:0 2px 4px #0000000d}.status-badge.new[_ngcontent-%COMP%], .status-badge.draft[_ngcontent-%COMP%]{background:var(--info-light);color:var(--info-dark)}.status-badge.contacted[_ngcontent-%COMP%], .status-badge.sent[_ngcontent-%COMP%]{background:var(--primary-50);color:var(--primary-600)}.status-badge.qualified[_ngcontent-%COMP%], .status-badge.accepted[_ngcontent-%COMP%], .status-badge.paid[_ngcontent-%COMP%]{background:var(--success-light);color:var(--success-dark)}.status-badge.won[_ngcontent-%COMP%], .status-badge.converted[_ngcontent-%COMP%], .status-badge.issued[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.status-badge.lost[_ngcontent-%COMP%], .status-badge.rejected[_ngcontent-%COMP%], .status-badge.overdue[_ngcontent-%COMP%]{background:var(--danger-light);color:var(--danger-dark)}.status-badge.pending[_ngcontent-%COMP%], .status-badge.expired[_ngcontent-%COMP%]{background:var(--warning-light);color:var(--warning-dark)}.status-badge.cancelled[_ngcontent-%COMP%], .status-badge.applied[_ngcontent-%COMP%]{background:var(--gray-200);color:var(--gray-700)}.status-badge.refunded[_ngcontent-%COMP%]{background:#e0e7ff;color:#4338ca}.status-badge.void[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151}.source-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;background:var(--gray-100);color:var(--text-secondary);font-size:.75rem;font-weight:600;border-radius:var(--radius-md)}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end}.action-icon[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--radius-md);color:var(--text-secondary);transition:all var(--transition-fast);cursor:pointer;background:0 0;border:1px solid var(--border)}.action-icon[_ngcontent-%COMP%]:hover{background-color:var(--primary-50);border-color:var(--primary-200);color:var(--primary-600)}.action-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 1.75rem;border-top:2px solid var(--border-light)}.pagination-info[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary)}.pagination-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.pagination-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-md);color:var(--text-primary);font-size:.875rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-50);border-color:var(--primary-200);color:var(--primary-600)}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.page-numbers[_ngcontent-%COMP%]{display:flex;gap:.25rem}.page-number[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-md);color:var(--text-primary);font-size:.875rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.page-number[_ngcontent-%COMP%]:hover{background:var(--primary-50);border-color:var(--primary-200);color:var(--primary-600)}.page-number.active[_ngcontent-%COMP%]{background:var(--primary-color);border-color:var(--primary-color);color:#fff}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:5rem 0}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid var(--gray-200);border-top-color:var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_rotation .8s linear infinite;margin-bottom:1.5rem}@keyframes _ngcontent-%COMP%_rotation{to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{color:var(--text-muted);font-size:1rem;font-weight:500}@media(max-width:768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.data-table[_ngcontent-%COMP%]{font-size:.875rem}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem}.pagination[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.pagination-controls[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.page-numbers[_ngcontent-%COMP%]{flex:1;justify-content:center}}.search-container[_ngcontent-%COMP%]{margin-bottom:2rem}.search-box[_ngcontent-%COMP%]{position:relative;max-width:600px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);width:1.25rem;height:1.25rem;color:var(--text-muted);pointer-events:none}.search-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 3rem;border:2px solid var(--border);border-radius:var(--radius-lg);font-size:.9375rem;color:var(--text-primary);background:var(--bg-card);transition:all var(--transition-fast)}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1e3a5f1a}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.clear-search[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;border:none;background:var(--gray-100);border-radius:50%;color:var(--text-secondary);cursor:pointer;transition:all var(--transition-fast)}.clear-search[_ngcontent-%COMP%]:hover{background:var(--gray-200);color:var(--text-primary)}.clear-search[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;position:relative}.sortable[_ngcontent-%COMP%]:hover{background:#f5a62326!important}.sortable[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem}.sort-icon[_ngcontent-%COMP%]{width:1.25rem!important;height:1.25rem!important;color:#f5a623!important;transition:transform var(--transition-fast);filter:drop-shadow(0 1px 2px rgba(0,0,0,.3))}.sort-icon.desc[_ngcontent-%COMP%]{transform:rotate(180deg)}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff!important}.delete-btn[_ngcontent-%COMP%]{border-color:var(--danger-light)!important;color:#dc2626!important}.delete-btn[_ngcontent-%COMP%]:hover{background-color:var(--danger-light)!important;border-color:#dc2626!important;color:#dc2626!important}.dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:9999;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.dialog-container[_ngcontent-%COMP%]{background:var(--bg-card);border-radius:var(--radius-xl);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;max-width:500px;width:90%;padding:2rem;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.dialog-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.dialog-icon-danger[_ngcontent-%COMP%]{width:4rem;height:4rem;margin:0 auto 1.5rem;background:linear-gradient(135deg,#fee2e2,#fecaca);border-radius:50%;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_scaleIn .4s cubic-bezier(.34,1.56,.64,1)}.dialog-icon-danger[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;color:#dc2626}.dialog-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--text-primary);margin-bottom:.75rem}.dialog-message[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary);line-height:1.6}.dialog-message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;cursor:pointer}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:var(--radius-md);font-size:.9375rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast);display:inline-flex;align-items:center;gap:.5rem;border:none}.btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.btn-secondary[_ngcontent-%COMP%]{background:var(--gray-100);color:var(--text-primary)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--gray-200)}.btn-danger[_ngcontent-%COMP%]{background:#dc2626;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#991b1b;transform:translateY(-1px);box-shadow:0 4px 12px #dc26264d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(0)}to{transform:scale(1)}}@media(max-width:768px){.search-box[_ngcontent-%COMP%]{max-width:100%}.dialog-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}.form-dialog[_ngcontent-%COMP%]{max-width:700px;max-height:90vh;overflow-y:auto}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:center;background:var(--gray-100);border:none;border-radius:50%;color:var(--text-secondary);cursor:pointer;transition:all var(--transition-fast)}.close-btn[_ngcontent-%COMP%]:hover{background:var(--gray-200);color:var(--text-primary)}.close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.form-content[_ngcontent-%COMP%]{padding:1rem 0}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--text-primary);margin-bottom:.5rem}.required[_ngcontent-%COMP%]{color:#dc2626}.form-input[_ngcontent-%COMP%]{padding:.75rem 1rem;border:2px solid var(--border);border-radius:var(--radius-md);font-size:.9375rem;color:var(--text-primary);background:var(--bg-card);transition:all var(--transition-fast)}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1e3a5f1a}.form-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}textarea.form-input[_ngcontent-%COMP%]{resize:vertical;min-height:80px;font-family:inherit}select.form-input[_ngcontent-%COMP%]{cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2f5a8a;transform:translateY(-1px);box-shadow:0 4px 12px #1e3a5f4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media(max-width:768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-dialog[_ngcontent-%COMP%]{max-width:95%}}.compact-btn[_ngcontent-%COMP%]{padding:.5rem .875rem!important;font-size:.8125rem!important;font-weight:600!important;display:inline-flex!important;align-items:center!important;gap:.375rem!important}.compact-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.pagination-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--text-secondary)}.page-size-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}.page-size-select[_ngcontent-%COMP%]{padding:.375rem .75rem;border:1px solid var(--border);border-radius:var(--radius-md);font-size:.875rem;color:var(--text-primary);background:var(--bg-card);cursor:pointer}.form-input.error[_ngcontent-%COMP%]{border-color:#dc2626;background-color:#fef2f2}.form-input.error[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc26261a}.error-message[_ngcontent-%COMP%]{display:block;margin-top:.375rem;font-size:.75rem;color:#dc2626;font-weight:500;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}"]})};export{K as DebitNoteListComponent};
